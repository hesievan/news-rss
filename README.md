# ğŸš€ RSS æ™ºèƒ½æ–°é—»èšåˆä¸é€šçŸ¥ç³»ç»Ÿ

## ğŸ“‹ é¡¹ç›®ç®€ä»‹
ä¸€ä¸ªåŸºäºPythonçš„RSSæ–°é—»è‡ªåŠ¨æ”¶é›†ã€æ™ºèƒ½ç­›é€‰å’Œå¤šæ¸ é“é€šçŸ¥ç³»ç»Ÿã€‚æ”¯æŒGitHub Actionsè‡ªåŠ¨åŒ–è¿è¡Œï¼Œé£ä¹¦æ¶ˆæ¯æ¨é€ï¼Œä»¥åŠGitHub Pageså®æ—¶å±•ç¤ºã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¯ æ™ºèƒ½æ”¶é›†ä¸ç­›é€‰
- **å¤šæºRSSèšåˆ**ï¼šæ”¯æŒå¤šä¸ªRSSæºåŒæ—¶æ”¶é›†
- **å…³é”®è¯æ™ºèƒ½ç­›é€‰**ï¼šåŸºäºå¯é…ç½®å…³é”®è¯è¿›è¡Œå†…å®¹è¿‡æ»¤
- **å®æ—¶æ•°æ®æ›´æ–°**ï¼šæ¯6å°æ—¶è‡ªåŠ¨æ›´æ–°æœ€æ–°å†…å®¹
- **å†å²æ•°æ®å½’æ¡£**ï¼šè‡ªåŠ¨ä¿å­˜å†å²æ–°é—»æ•°æ®

### ğŸ“± å¤šæ¸ é“é€šçŸ¥
- **é£ä¹¦ç¾¤èŠé€šçŸ¥**ï¼šæ”¯æŒå¡ç‰‡å’Œæ–‡æœ¬ä¸¤ç§æ¶ˆæ¯æ ¼å¼
- **GitHub Pageså±•ç¤º**ï¼šå“åº”å¼ç½‘é¡µå®æ—¶å±•ç¤ºç­›é€‰ç»“æœ
- **é‚®ä»¶é€šçŸ¥**ï¼šå¯æ‰©å±•æ”¯æŒé‚®ä»¶æ¨é€ï¼ˆé¢„ç•™æ¥å£ï¼‰

### ğŸ”„ è‡ªåŠ¨åŒ–è¿ç»´
- **GitHub Actions**ï¼šå®Œå…¨è‡ªåŠ¨åŒ–è¿è¡Œï¼Œæ— éœ€äººå·¥å¹²é¢„
- **è‡ªåŠ¨éƒ¨ç½²**ï¼šä»£ç æ›´æ–°è‡ªåŠ¨éƒ¨ç½²åˆ°GitHub Pages
- **é”™è¯¯ç›‘æ§**ï¼šè¿è¡Œå¼‚å¸¸è‡ªåŠ¨è®°å½•å’Œé€šçŸ¥

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ rss-collector.yml      # ä¸»å·¥ä½œæµï¼šRSSæ”¶é›†+ç­›é€‰+é€šçŸ¥
â”‚       â””â”€â”€ pages-deploy.yml       # GitHub Pageséƒ¨ç½²å·¥ä½œæµ
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ keywords.json             # å…³é”®è¯é…ç½®
â”‚   â”œâ”€â”€ rss-sources.json          # RSSæºé…ç½®
â”‚   â””â”€â”€ feishu.json              # é£ä¹¦é€šçŸ¥é…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ collect_rss.py           # RSSå†…å®¹æ”¶é›†
â”‚   â”œâ”€â”€ filter_news.py           # å†…å®¹ç­›é€‰
â”‚   â”œâ”€â”€ generate_markdown.py     # MarkdownæŠ¥å‘Šç”Ÿæˆ
â”‚   â”œâ”€â”€ generate_github_pages.py # GitHub Pagesç”Ÿæˆ
â”‚   â”œâ”€â”€ feishu_notifier.py       # é£ä¹¦é€šçŸ¥æ¨¡å—
â”‚   â”œâ”€â”€ notify.py                # é€šçŸ¥é›†æˆ
â”‚   â””â”€â”€ utils.py                 # å·¥å…·å‡½æ•°
â”œâ”€â”€ docs/                        # GitHub Pagesé™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ index.html              # ä¸»å±•ç¤ºé¡µé¢
â”‚   â”œâ”€â”€ style.css               # é¡µé¢æ ·å¼
â”‚   â””â”€â”€ script.js               # äº¤äº’è„šæœ¬
â”œâ”€â”€ output/                      # è¾“å‡ºæ–‡ä»¶
â”‚   â”œâ”€â”€ raw_news.json           # åŸå§‹æ–°é—»æ•°æ®
â”‚   â”œâ”€â”€ filtered_news.json      # ç­›é€‰åæ–°é—»
â”‚   â”œâ”€â”€ summary.json            # ç»Ÿè®¡æ‘˜è¦
â”‚   â”œâ”€â”€ raw_news.md             # åŸå§‹æ–°é—»Markdown
â”‚   â”œâ”€â”€ filtered_news.md        # ç­›é€‰æ–°é—»Markdown
â”‚   â””â”€â”€ archive/                # å†å²å½’æ¡£
â”œâ”€â”€ run.py                      # ä¸€é”®è¿è¡Œè„šæœ¬
â”œâ”€â”€ setup_github_pages.py       # GitHub Pagesåˆå§‹åŒ–
â”œâ”€â”€ test_feishu.py              # é£ä¹¦é€šçŸ¥æµ‹è¯•
â”œâ”€â”€ requirements.txt            # ä¾èµ–åˆ—è¡¨
â””â”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
```

## ğŸ”„ å·¥ä½œæµç¨‹

```mermaid
graph TD
    A[å®šæ—¶è§¦å‘/GitHub Actions] --> B[æ”¶é›†RSSå†…å®¹<br>collect_rss.py]
    B --> C[è¿‡æ»¤æ–°é—»<br>filter_news.py]
    C --> D[ç”ŸæˆMarkdownå­˜æ¡£<br>generate_markdown.py]
    D --> E[ç”ŸæˆGitHub Pages<br>generate_github_pages.py]
    E --> F[å‘é€é£ä¹¦é€šçŸ¥<br>notify.py]
    F --> G[æäº¤ç»“æœåˆ°GitHub]
    G --> H[éƒ¨ç½²GitHub Pages]
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1ï¸âƒ£ ä¸€é”®éƒ¨ç½²
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/hesievan/news-rss.git
cd news-rss

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œå®Œæ•´æµç¨‹
python run.py
```

### 2ï¸âƒ£ GitHub Pageséƒ¨ç½²
1. Forkæœ¬é¡¹ç›®åˆ°ä½ çš„GitHubè´¦æˆ·
2. è¿›å…¥ä»“åº“ Settings â†’ Pages
3. Sourceé€‰æ‹© "GitHub Actions"
4. å·¥ä½œæµä¼šè‡ªåŠ¨éƒ¨ç½²ï¼Œè®¿é—®åœ°å€ï¼š`https://[ä½ çš„ç”¨æˆ·å].github.io/news-rss`

### 3ï¸âƒ£ é£ä¹¦é€šçŸ¥é…ç½®
#### åˆ›å»ºé£ä¹¦æœºå™¨äºº
1. é£ä¹¦ç¾¤èŠ â†’ è®¾ç½® â†’ ç¾¤æœºå™¨äºº â†’ æ·»åŠ æœºå™¨äºº â†’ è‡ªå®šä¹‰æœºå™¨äºº
2. å¤åˆ¶webhookåœ°å€ï¼ˆæ ¼å¼ï¼š`https://open.feishu.cn/open-apis/bot/v2/hook/xxx`ï¼‰

#### é…ç½®webhook
**æ–¹å¼Aï¼šGitHub Secretsï¼ˆæ¨èï¼‰**
- ä»“åº“ Settings â†’ Secrets and variables â†’ Actions
- æ–°å»º secretï¼š`FEISHU_WEBHOOK_URL=ä½ çš„webhookåœ°å€`

**æ–¹å¼Bï¼šæœ¬åœ°é…ç½®**
ç¼–è¾‘ `config/feishu.json`:
```json
{
  "webhook_url": "https://open.feishu.cn/open-apis/bot/v2/hook/xxx",
  "notification_settings": {
    "enabled": true,
    "message_type": "card",
    "max_news_per_message": 10,
    "include_summary": true
  }
}
```

## âš™ï¸ é…ç½®æ–‡ä»¶è¯´æ˜

### RSSæºé…ç½® (`config/rss-sources.json`)
```json
[
  {
    "name": "36æ°ª",
    "url": "https://36kr.com/feed",
    "category": "ç§‘æŠ€",
    "enabled": true  // æ–°å¢: æ‰‹åŠ¨å¯ç”¨/ç¦ç”¨å¼€å…³
  },
  {
    "name": "Solidot",
    "url": "https://www.solidot.org/index.rss",
    "category": "ç§‘æŠ€",
    "enabled": true
  }
]
```

### å¥åº·æ£€æŸ¥é…ç½® (`config/health-check.json`) // æ–°å¢: å¥åº·æ£€æŸ¥é…ç½®è¯´æ˜
```json
{
  "enabled": false,          // æ˜¯å¦å¯ç”¨å¥åº·æ£€æŸ¥
  "failure_threshold": 3,    // å¤±è´¥é˜ˆå€¼ï¼Œè¿ç»­å¤±è´¥å¤šå°‘æ¬¡åç¦ç”¨
  "check_interval_hours": 24, // æ£€æŸ¥é—´éš”(å°æ—¶)
  "timeout_seconds": 10,     // è¯·æ±‚è¶…æ—¶æ—¶é—´(ç§’)
  "auto_disable": true       // æ˜¯å¦è‡ªåŠ¨ç¦ç”¨å¤±è´¥æº
}
```

### å…³é”®è¯é…ç½® (`config/keywords.json`)
```json
{
  "include_keywords": ["AI", "äººå·¥æ™ºèƒ½", "æœºå™¨å­¦ä¹ ", "åŒºå—é“¾", "Web3"],
  "exclude_keywords": ["å¹¿å‘Š", "æ¨å¹¿"],
  "min_score": 2
}
```

## ğŸ“Š æ•°æ®å±•ç¤º

### GitHub PagesåŠŸèƒ½
- **å®æ—¶ç»Ÿè®¡**ï¼šæ–‡ç« æ•°é‡ã€å…³é”®è¯åˆ†å¸ƒã€æ¥æºç»Ÿè®¡
- **æ™ºèƒ½åˆ†ç»„**ï¼šæŒ‰å…³é”®è¯å’Œæ¥æºåˆ†ç»„å±•ç¤º
- **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾æ”¯æŒæ‰‹æœºå’Œæ¡Œé¢
- **ä¸€é”®ç›´è¾¾**ï¼šç‚¹å‡»æ ‡é¢˜ç›´æ¥è®¿é—®åŸæ–‡

### æ¶ˆæ¯é€šçŸ¥æ ·å¼
```
ğŸ“° æ¯æ—¥ç§‘æŠ€èµ„è®¯ - 2025-07-24

ğŸ“Š ä»Šæ—¥æ‘˜è¦
â€¢ æ”¶é›† 156 æ¡æ–°é—»
â€¢ ç­›é€‰ 23 æ¡ç›¸å…³
â€¢ æ¥æº 5 ä¸ªç«™ç‚¹
â€¢ åŒ¹é… 8 ä¸ªå…³é”®è¯

ğŸ·ï¸ AIäººå·¥æ™ºèƒ½ (8æ¡)
1. OpenAIå‘å¸ƒGPT-5...
2. è°·æ­Œæ¨å‡ºæ–°AIæ¡†æ¶...

ğŸ·ï¸ åŒºå—é“¾ (5æ¡)
1. ä»¥å¤ªåŠå®Œæˆå‡çº§...
2. æ¯”ç‰¹å¸çªç ´æ–°é«˜...
```

## ğŸ”§ æœ¬åœ°å¼€å‘

### ç¯å¢ƒè¦æ±‚
- Python 3.7+
- pipåŒ…ç®¡ç†å™¨

### å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### æ¨¡å—æµ‹è¯•
```bash
# æµ‹è¯•RSSæ”¶é›†
python src/collect_rss.py

# æµ‹è¯•å†…å®¹ç­›é€‰
python src/filter_news.py

# æµ‹è¯•é£ä¹¦é€šçŸ¥
python test_feishu.py

# æµ‹è¯•GitHub Pagesç”Ÿæˆ
python src/generate_github_pages.py

# ä¸€é”®å®Œæ•´æµ‹è¯•
python run.py
```

## ğŸ”„ GitHub Actionsè‡ªåŠ¨åŒ–

### å·¥ä½œæµè¯´æ˜
- **rss-collector.yml**: æ¯6å°æ—¶è‡ªåŠ¨è¿è¡Œ
  - æ”¶é›†RSSå†…å®¹
  - å…³é”®è¯ç­›é€‰
  - ç”ŸæˆæŠ¥å‘Š
  - é£ä¹¦é€šçŸ¥
  - æ•°æ®å½’æ¡£

- **pages-deploy.yml**: è‡ªåŠ¨éƒ¨ç½²GitHub Pages
  - ç›‘å¬pushäº‹ä»¶
  - è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²

### æ‰‹åŠ¨è§¦å‘
è¿›å…¥Actionsé¡µé¢ï¼Œé€‰æ‹©å¯¹åº”å·¥ä½œæµï¼Œç‚¹å‡»"Run workflow"

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|---|---|
| GitHub Pagesæœªæ›´æ–° | æ£€æŸ¥Actionsè¿è¡ŒçŠ¶æ€ï¼Œç¡®è®¤Pageså·²å¯ç”¨ |
| é£ä¹¦é€šçŸ¥æœªå‘é€ | éªŒè¯webhookåœ°å€ï¼Œæ£€æŸ¥ç½‘ç»œè¿æ¥ |
| RSSæ”¶é›†å¤±è´¥ | æ£€æŸ¥RSSæºURLæ˜¯å¦æœ‰æ•ˆ |
| ç­›é€‰ç»“æœä¸ºç©º | è°ƒæ•´å…³é”®è¯é…ç½®ï¼Œé™ä½åŒ¹é…åˆ†æ•° |

### è°ƒè¯•æ¨¡å¼
```bash
# å¼€å¯è°ƒè¯•æ—¥å¿—
python src/collect_rss.py --debug
python src/filter_news.py --debug
python src/notify.py --debug
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æ”¶é›†ä¼˜åŒ–
- æ”¯æŒå¹¶å‘è¯·æ±‚ï¼Œæé«˜æ”¶é›†æ•ˆç‡
- æ™ºèƒ½é‡è¯•æœºåˆ¶ï¼Œå¤„ç†ç½‘ç»œå¼‚å¸¸
- å¢é‡æ›´æ–°ï¼Œå‡å°‘é‡å¤æ•°æ®

### å­˜å‚¨ä¼˜åŒ–
- æ•°æ®å‹ç¼©å­˜å‚¨ï¼ŒèŠ‚çœç©ºé—´
- å†å²æ•°æ®è‡ªåŠ¨å½’æ¡£
- å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®

## ğŸ¯ æ‰©å±•åŠŸèƒ½

### è®¡åˆ’ä¸­çš„åŠŸèƒ½
- [ ] é‚®ä»¶é€šçŸ¥æ”¯æŒ
- [ ] å¾®ä¿¡å…¬ä¼—å·æ¨é€
- [ ] è‡ªå®šä¹‰æ¶ˆæ¯æ¨¡æ¿
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] é«˜çº§ç­›é€‰è§„åˆ™
- [ ] ç”¨æˆ·è®¢é˜…ç®¡ç†

### äºŒæ¬¡å¼€å‘
é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•ï¼š
- æ–°å¢é€šçŸ¥æ¸ é“ï¼šç»§æ‰¿ `src/feishu_notifier.py`
- æ–°å¢æ•°æ®æºï¼šå‚è€ƒ `src/collect_rss.py`
- æ–°å¢è¾“å‡ºæ ¼å¼ï¼šæ‰©å±• `src/generate_markdown.py`

## ğŸ“„ è®¸å¯è¯
MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ¤ è´¡çŒ®
æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## ğŸ“ è”ç³»æ–¹å¼
- GitHub Issues: [é¡¹ç›®Issues](https://github.com/hesievan/news-rss/issues)
- é‚®ç®±: é¡¹ç›®è®¨è®ºåŒº

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼**

### RSSæºå¥åº·æ£€æŸ¥ // æ–°å¢: å¥åº·æ£€æŸ¥åŠŸèƒ½è¯´æ˜
ç³»ç»Ÿæ”¯æŒè‡ªåŠ¨ç›‘æ§RSSæºå¯ç”¨æ€§å¹¶åœ¨å¤šæ¬¡å¤±è´¥åè‡ªåŠ¨ç¦ç”¨æºï¼Œé˜²æ­¢æ— æ•ˆè¯·æ±‚æµªè´¹èµ„æºã€‚

#### å¯ç”¨æ–¹æ³•
1. ç¼–è¾‘ `config/health-check.json`ï¼Œè®¾ç½® `"enabled": true`
2. é…ç½®å‚æ•°è¯´æ˜:
   - `failure_threshold`: è¿ç»­å¤±è´¥å¤šå°‘æ¬¡åè‡ªåŠ¨ç¦ç”¨
   - `check_interval_hours`: è‡ªåŠ¨ç¦ç”¨åï¼Œæ¯éš”å¤šä¹…å°è¯•é‡æ–°æ£€æŸ¥
   - `timeout_seconds`: æ¯ä¸ªæºçš„è¿æ¥è¶…æ—¶æ—¶é—´
   - `auto_disable`: æ˜¯å¦å¼€å¯è‡ªåŠ¨ç¦ç”¨åŠŸèƒ½

#### æ‰‹åŠ¨ç®¡ç†
- å¥åº·çŠ¶æ€å­˜å‚¨åœ¨ `config/rss-health-status.json` (è‡ªåŠ¨ç”Ÿæˆ)
- å¦‚éœ€æ‰‹åŠ¨æ¢å¤ç¦ç”¨çš„æºï¼Œå¯åˆ é™¤è¯¥æ–‡ä»¶æˆ–ä¿®æ”¹å¯¹åº”æºçš„ `disabled` çŠ¶æ€ä¸º `false`
